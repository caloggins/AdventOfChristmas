import { findGearRatios } from './ratios'
import theoretically from 'jest-theories'

describe('findGearPairs', () => {
  const theories = [
    {
      input: [
        '100',
        '200'
      ],
      expected: []
    }, {
      input: [
        '...',
        '.*.',
        '...'
      ],
      expected: []
    },
    {
      input: [
        '1..',
        '.*.',
        '...'
      ],
      expected: []
    },
    {
      input: [
        '2..',
        '.*.',
        '..2'
      ],
      expected: [4]
    },
    {
      input: [
        '22..',
        '.*..',
        '.22.'
      ],
      expected: [484]
    },
    {
      input: [
        '111.',
        '...*',
        '...2'
      ],
      expected: [222]
    },
    {
      input: [
        '11.2',
        '..*.',
        '.22.'
      ],
      expected: []
    },
    {
      input: [
        '2...3',
        '*..*.',
        '2...3'
      ],
      expected: [4, 9]
    },
    {
      input: [
        '22*33.',
        '......',
        '.33*33'
      ],
      expected: [726, 1089]
    },
    {
      input: [
        '22....',
        '..*...',
        '...33.'
      ],
      expected: [726]
    },
    {
      input: [
        '12.......*..',
        '+.........34',
        '..$....-12..',
        '..78........',
        '..*....60...',
        '78.........9',
        '.5.....23..$',
        '8...90*12...',
        '............',
        '2.2......12.',
        '.*.........*',
        '1.1..503+.56'
      ],
      expected: [6084, 672]
    },
    {
      input: [
        '.......5......',
        '..7*..*.....4*',
        '...*13*......9',
        '.......15.....',
        '..............',
        '..............',
        '..............',
        '..............',
        '..............',
        '..............',
        '21............',
        '...*9.........'
      ],
      expected: [91, 65, 36, 91, 195]
    },
    {
      input: [
        '.......................*......*',
        '...910*...............233...189',
        '2......391.....789*............',
        '...................983.........',
        '0........106-...............226',
        '.%............................$',
        '...*......$812......812..851...',
        '.99.711.............+.....*....',
        '...........................113.',
        '.411....411....%...............',
        '28*.....411....%...............',
        '...111..411....%...............'
      ],
      expected: [355810, 775587, 70389, 96163]
    }
  ]

  theoretically(({ input, expected }) => `${input} should return ${expected}`, theories, theory => {
    expect(findGearRatios(theory.input)).toEqual(theory.expected)
  })
})
